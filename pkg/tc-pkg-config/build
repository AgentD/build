VERSION="0.29.2"
SRCDIR="pkg-config-$VERSION"
TARBALL="$SRCDIR.tar.gz"
URL="https://pkg-config.freedesktop.org/releases/"
SHA256SUM="6fc69c01688c9458a57eb9a1664c9aba372ccda420a02bf4429fe610e7e7d591"
DEPENDS=""

prepare() {
	return
}

build() {

	$1/configure --prefix="$TCDIR" --target="$TARGET" \
		     --build="$HOSTTUPLE" --host="$HOSTTUPLE" \
		     --with-sysroot="$TCDIR/$TARGET" \
		     --with-pc-path="$TCDIR/$TARGET/lib/pkgconfig" \
		     --with-system-include-path="/include" \
		     --with-system-library-path="/lib" \
		     --with-internal-glib

	make -j $NUMJOBS
}

deploy() {
	make install

	ln -s pkg-config "$TCDIR/bin/$TARGET-pkg-config"
}

check_update() {
	curl --silent -L "$URL" | grep -o ">pkg-config-[0-9.]*tar.gz<" | \
	    sed 's/>pkg-config-//g' | sed 's/.tar.gz<//g' | \
	    verson_find_greatest "$VERSION"
}