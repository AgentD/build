VERSION="2.31"
SRCDIR="binutils-$VERSION"
TARBALL="binutils-$VERSION.tar.xz"
URL="http://ftp.gnu.org/gnu/binutils"
SHA256SUM="231036df7ef02049cdbff0681f4575e571f26ea8086cf70c2dcd3b6c0f4216bf"
DEPENDS=""

prepare() {
	return
}

build() {
	$1/configure --prefix="$TCDIR" --target="$TARGET" --disable-nls \
		     --with-sysroot="$TCDIR/$TARGET" --disable-multilib \
		     --with-lib-path="$TCDIR/$TARGET/lib"

	make configure-host
	make -j $NUMJOBS
}

deploy() {
	make install
}

check_update() {
	curl --silent -L "$URL" | grep -o ">binutils-[0-9.]*tar.xz<" | \
	    sed 's/>binutils-//g' | sed 's/.tar.xz<//g' | \
	    verson_find_greatest "$VERSION"
}