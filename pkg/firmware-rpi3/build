VERSION="1.20181112"
SRCDIR="firmware-${VERSION}"
TARBALL="${VERSION}.tar.gz"
URL="https://github.com/raspberrypi/firmware/archive"
SHA256SUM="eccb3221fe5fbf9e44e7d1a79b2f401eb7527a41fb8ea7fe7231bc188a8ff50b"
DEPENDS="toolchain"

prepare() {
	return
}

build() {
	return
}

deploy() {
	local SOURCE="$1"

	cp -r "$SOURCE/hardfp/opt" "$PKGDEPLOYDIR"
	cp $SCRIPTDIR/pkg/$PKGNAME/*.{files,desc} "$PKGDEPLOYDIR"

	strip_files ${PKGDEPLOYDIR}/opt/vc/{bin,sbin}/*
	strip_files ${PKGDEPLOYDIR}/opt/vc/lib/*.so
	strip_files ${PKGDEPLOYDIR}/opt/vc/lib/plugins/*.so
}

check_update() {
	curl --silent -L https://github.com/raspberrypi/firmware/releases | \
	     grep -o "[0-9.]\+tar.gz" | sed 's/.tar.gz//g' | \
	     verson_find_greatest "$VERSION"
}
